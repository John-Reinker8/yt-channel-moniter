import os
from dotenv import load_dotenv
from googleapiclient.discovery import build




def search_for_channel(yt, school_name, state):
    response = yt.search().list(
        q=f"{school_name} {state}",
        part='snippet',
        type='channel',
        maxResults=1
    ).execute()

    items = response.get('items', [])
    if not items:
        return None
    
    item = items[0]
    info = {
        'title': item['snippet']['title]'],
        'id': item['snippet']['channelId']
    }

    return info


def main():
    load_dotenv()
    API_KEY = os.getenv('API_KEY')

    yt = build('youtube', 'v3', developerKey=API_KEY)

